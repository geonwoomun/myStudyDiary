# React전에는 Jquery, Backbone, AngularJS가 있었다.
06년 Jquery 발표 이후, 이 대단한 아이디어는 순식간에 웹을 사로잡았다. Jquery가 DOM을 다루는 방식은 지금까지도 가장 쉽고 효율적인 방식으로 인정받고 있다. 오랜 세월동안 사실상의 표준으로써 군림해왔다.

그러다가 Backbone과 AngularJS를 위시한 SPA이 보다 구조화된 프론트엔드 환경을 제시하기 시작. 그러나 역시 Jquery가 몰락한 것은 아니어서, Backbone과 AngularJS는 DOM을 다루는 중요한 방법으로써 Jquery를 사용했다.

# 10년은 가지고 놀만한 아이디어, React

이 상황에 완벽하게 균열을 내면서 등장한 것이 React. Facebook이 만든 Javascript 라이브러리.

Facebook을 비롯하여 Airbnb, Netflix, Dropbox, Twitter, Evernote, Uber 등 세계를 선도하는 서비스들이 React를 사용합니다. 그중에서도 Airbnb와 Netflix는 페이스북 못지않게 React를 생태계에 적극적으로 기여하고 있다.

React는 Angular 같은 Framework가 아니라 Library이다. Router처럼 웹을 만드는데 꼭 필요한 도구들이 기본적으로 포함되어있지 않다. 그 대신 가볍고 훨씬 빠르게 배울 수 있다. 더불어 개발자들의 창의성을 자극하는 매력이 있다.

React는 다음 3가지의 중요한 특징을 지니고 있다.


### Component
Component는 UI를 구성하는 개별적인 뷰 단위이다. React로 개발을 한다는 것은 마치 블럭을 조립해 성을 만드는 것과 같다. 전체 앱은 각 Component들이 결합해서 만들어 지게 된다. 무엇보다 각 Component들은 앱의 다른 부분, 또는 다른 앱에서 쉽게 재사용이 가능하다.


### JSX

JSX는 React를 위해 태어난 새로운 자바스크립트 문법으로, 과거 페이스북이 만들었던 PHP의 개량판 XHP에 그 기원을 두고 있다.
React는 작성한 코드를 컴파일하는 과정을 꼭 거쳐야 한다. 대부분 사실상 자바스크립트 표준이 되어가고 있는 Babel을 사용한다. Babel의 React플러그인을 통해 코드를 컴파일하면 html같던 코드가 js코드로 된다.
React는 Babel과 같은 트랜스파일러를 꼭 써야하기 때문에 Webpack 등을 통한 꽤 까다로운 초기 세팅이 필수적이다. 그렇다면 왜 굳이 이런 번거로움을 들여가며, JSX를 사용하는 것일까?

물론 JSX를 사용하지 않고 순수한 자바스크립트코드를 작성하여 React를 사용할 수도 있지만, 실제로 그렇게 사용하는 경우는 거의 없을 뿐 아니라, React를 사용하는 중요한 이유 중 하나를 포기하는 셈이 된다.

JSX는 보통 선언적이라고 번역되는 Declarative한 개발을 도와주는 도구이다.
간단하게 말해 한눈에 이해하기 쉬운 개발을 만들어준다. JSX는 그 형태가 마치 HTML과 같기 때문에 유저에게 보여주고 싶은 최정적인 VIEW라고 할 수 있다.
개발자는 JSX를 통해 결과물에 직관적으로 도달할 수 있다. 이는 예측가능한 개발을 만들어줄 뿐 아니라 유지보수, 협업 등에서도 엄청난 강점을 발휘한다.


### Virtual DOM

결국 위의 모든 것을 가능하게 만들어주는 것, 그리고 React의 가장 큰 특징이자 뜨거운 논쟁을 불러일으키는 대상, 그것이 바로 Virtual DOM 이다.

DOM은 웹 개발자들의 영원한 숙제이다. DOM은 웹의 핵심으로써, 브라우저가 화면을 화면을 그리기 위한 정보가 담겨있는 문서이다. 웹은 원래 인터넷을 통해 공유되는 문서의 규격으로써 탄생했다. 문제는 이 DOM을 효과적으로 다루는 것이 꽤나 힘들다. 그래서 DOM이 성능이 좋지 않다느니 하는 말도 나오지만 사실 DOM 자체보다는 해석과정에 문제가 있는 경우가 대부분. 브라우저별로 이 DOM을 가지고 화면을 만드는 방식이 다르기도 하다.

### Jquery는 무엇이 문제였나.

Jquery는 누구나 쉽게 DOM을 조작할 수 있도록 하는 아주 멋진 도구였다. 그러나 Jquery는 뭔가 구조적 대안이라기보다는 날카로운 커터칼에 가깝다.

Jquery가 인기있었던 이유가 바로 이 커터칼처럼 DOM을 잘라내는 방식에 있었지만, 프론트엔드 개발의전문성이 높아지고 대형 앱의 유지/보수가 화두가 되면서 이것이 Jquery의 한계로써 드러나게 됐다.

### DOM에 대한 완전히 새로운 접근

React의 가장 강력한 개성이 바로 이 Virtual DOM에서 나옵니다.

React안에 있는 div들은 진짜 html이 아니라 Babel에 의해 컴파일되는 JSX이다. render 함수가 return하는 것은 새로운 Virtual DOM을 만들기 위한 재료. React는 새로운 return 값을 가지고 새로운 Virtual DOM을 만든다. 그리고 현재 브라우저에 보여지고 있는 진짜 DOM과 비교하여 어떤 부분이 달라졌는지 찾아내고 바뀐부분만 진짜 DOM에 적용한다. 그러면 브라우저는 이 DOM을 해것하여 유저에게 새로운 화면을 보여주게 된다.

왜 이런 번거로운 비교작업을 거치는 걸까. 바로 DOM을 직접 바꾸면 안될까요? 
브라우저에게 DOM을 해석하고 렌더링 하는 것은 굉장히 비싼 작업이다. Virtual DOM은 그 작업을 미리 최적화 시켜줄 뿐만 아니라, 컴포넌트 단위로 묶어서 관리할 수 있게 해준다.

Virtual DOM은 단순한 DOM 조작 도구가 아니라 컴포넌트 단위로 움직이는 Declarative한 개발을 구현하기 위해 도입된 것이다. 컴포넌트 단위의 개발을 구현하기 위해 보다 효율적인 DOM조작 방식을 도입할 필요가 있었던 것이다. 만약 Virtual DOM이 없었다면 React의 컴포넌트 철학은 제대로 구현될 수 없었을 것이다. 
